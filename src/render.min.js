define(["require","exports"],function(v,h){function t(n,d,b,m){for(var a in b){var e=b[a],f=d[a];a in d&&f===e?"value"===a&&"input"===n&&m.value!=e&&(m.value=e):"key"!==a&&m.setAttribute(a,e)}}function p(n,d,b,m){for(var a=[].slice.call((m||b).childNodes),e=d.length,f=a.length-1,h=Array(a.length),r=null;0<e--;){var c=f,k=n[c],g=d[e],l=null,q=!!m;k&&(k.tag==g.tag&&Object.keys(k.attr).join()==Object.keys(g.attr).join()&&k.attr.id==g.attr.id&&a[c]?(l=a[c],a[c]=null,c!=f&&(q=!0)):e<=f&&(b.removeChild(a[c]),
h[c]=a[c],a[c]=null));for(;0<=f&&!a[f];)--f;l||(l=u.createElement(g.tag),q=!0);t(g.tag,k?k.attr:{},g.attr,l);g.children&&p(k.children,g.children,l,null);q&&b.insertBefore(l,r);r=l}h.forEach(function(a){a&&b.removeChild(a)});a.forEach(function(a){a&&b.removeChild(a)})}var u=document;h.render=p;h.root=function(h){var d=[];return function(b){p(d,b,h);d=b}}});
