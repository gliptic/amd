define(function(){function w(g){return Array.isArray(g)?0:"object"==typeof g?1:2}function z(g,h,c,m){for(var a in c){var k=c[a],l=h[a];a in h&&l===k?"value"===a&&"input"===g&&m.value!=k&&(m.value=k):"key"!==a&&m.setAttribute(a,k)}}function r(g,h,c,m){for(var a=[].slice.call((m||c).childNodes),k=h.length,l=a.length-1,x=Array(a.length),t=null,n=null,p;0<k--;){var d=l,e=g[d],b=h[k],y=w(e),q=w(b),f=null,u=!!m;e&&(1==y&&1==q&&e.tag==b.tag&&""+Object.keys(e.attr)==""+Object.keys(b.attr)&&e.attr.id==b.attr.id&&
a[d]||2==y&&2==q?(f=a[d],a[d]=null,d!=l&&(u=!0)):k<=l&&(c.removeChild(a[d]),x[d]=a[d],a[d]=null));for(;0<=l&&!a[l];)--l;f?2==q&&e.valueOf()!==b.valueOf()&&(f.nodeValue=b):(f=2==q?v.createTextNode(b):v.createElement(b.tag),u=!0);2!=q&&(z(b.tag,e?e.attr:{},b.attr,f),b.children&&r(e.children,b.children,f,null));u?(p||(p=v.createDocumentFragment(),n=null),p.insertBefore(f,n),n=f):(n&&c.insertBefore(p,t),n=null,t=f)}n&&c.insertBefore(p,t);x.forEach(function(a){});a.forEach(function(a){a&&c.removeChild(a)})}
var v=document;return{render:r,root:function(g){var h=[];return function(c){r(h,c,g);h=c}}}});
