define(function(){function w(d){return Array.isArray(d)?0:"object"==typeof d?1:2}function z(d,h,c,m){for(var a in c){var k=c[a],l=h[a];a in h&&l===k?"value"===a&&"input"===d&&m.value!=k&&(m.value=k):"key"!==a&&m.setAttribute(a,k)}}function r(d,h,c,m){d=d||A;for(var a=[].slice.call((m||c).childNodes),k=h.length,l=a.length-1,x=Array(a.length),t=null,n=null,p;0<k--;){var f=l,e=d[f],b=h[k],q=w(b),g=null,u=!!m;if(e){var y=w(e);1==y&&1==q&&e.tag==b.tag&&""+Object.keys(e.attr)==""+Object.keys(b.attr)&&e.attr.id==
b.attr.id&&a[f]||2==y&&2==q?(g=a[f],a[f]=null,f!=l&&(u=!0)):k<=l&&(c.removeChild(a[f]),x[f]=a[f],a[f]=null)}for(;0<=l&&!a[l];)--l;g?2==q&&e.valueOf()!==b.valueOf()&&(g.nodeValue=b):(g=2==q?v.createTextNode(b):v.createElement(b.tag),u=!0);2!=q&&(z(b.tag,e?e.attr:{},b.attr,g),b.children&&r(e&&e.children,b.children,g,null));u?(p||(p=v.createDocumentFragment(),n=null),p.insertBefore(g,n),n=g):(n&&c.insertBefore(p,t),n=null,t=g)}n&&c.insertBefore(p,t);x.forEach(function(a){});a.forEach(function(a){a&&
c.removeChild(a)})}var v=document,A=[];return{render:r,root:function(d){var h=[];return function(c){r(h,c,d);h=c}}}});
