define(["transducers"],function(f){function d(a,g){for(var d=[],b=/[:\*]([\w\d]*)/g,c;c=b.exec(a);)d.push(c[1]);a=RegExp(a.replace(b,function(a){return":"==a[0]?"([^/]+)":"(.+)"})+"$");return function(b){if(b=b.match(a)){var c={};b.some(function(a,b){c[d[b]]=a});return function(){g(c)}}}}function b(){var a=location.hash.slice(1);c.some(function(b){return b==a})||(c=[a],e.r(a))}var c=[],e=f.sig(!0);window.onhashchange=b;b();d.url=e;d.reload=function(){c=[];b()};d.go=function(a){c.push(a);location.hash=
a;b()};d.ready=function(a){function b(){document.onreadystatechange=b;/plete|loade|ractive/.test(document.readyState)&&(a&&a(),a=null)}b()};return d});
